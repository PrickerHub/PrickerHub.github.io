<!DOCTYPE html>
<html>
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" >
    <title>
        
        《大型网站技术架构核心原理与案例分析》 · 庞晨个人网站
        
    </title>
    <link rel="icon" href= /assests/favicon.ico>
    <!-- 提前加载place holder  -->
    <style>
        @font-face {
            font-family: 'Oswald-Regular';
            src: url('/font/Oswald-Regular.ttf');
        }
        @font-face {
            font-family: 'Source Sans Pro';
            src: url('/font/Source Sans Pro.woff'),
            url('/font/Source Sans Pro.woff2');
            font-weight: normal;
            font-style: normal;
        }
        @font-face {
            font-family: 'Source Code Pro';
            src: url('/font/SourceCodePro-Regular.ttf.woff'),
            url('/font/SourceCodePro-Regular.ttf.woff2');
            font-weight: normal;
            font-style: normal;
        }
        
        
        .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0px;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2s ease-out 0s 1;
        }
        @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        99% {
            transform: translate3d(0, 0, 0);
        }
        99.1% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(-226px, 0, 0);
        }
    }
    </style>
    <link rel="stylesheet" href = "/css/style.css?v=20170930" />
    <script src="//cdn.staticfile.org/jquery/3.2.1/jquery.min.js" defer></script>
    
    <script src="/scripts/main.js" defer></script>
    <!-- 百度统计  -->
    
    <script>
        var _hmt = _hmt || [];
        (function () {
        var hm = document.createElement("script");
        hm.src = "true";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
        })();
    </script>
    
    <!-- 谷歌统计  -->
    
    <script>
        (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'true', 'auto');
        ga('send', 'pageview');
    </script>
    
</head>
    
        <body class="post-body">
    
    
<header class="header">

    <div class="header-sidebar-menu">&#xe775;</div>
    <!-- post页的toggle banner  -->
    
    <div class="banner">
            <div class="blog-title">
                <a href="/" >PangChen&#39;s Blog.</a>
            </div>
            <div class="post-title">
                <a href="#" class="post-name">《大型网站技术架构核心原理与案例分析》</a>
            </div>
    </div>
    
    <a class="home-link" href=/>PangChen's Blog.</a>
</header>
    <div class="wrapper">
        <div class="site-intro">
    
    <!-- 主页  -->
    
    
    <!-- 404页  -->
            
    <div class="site-intro-img" style="background-image: url(https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1510367009&di=0e1339aeb55312e9aa4dca2ca815c963&imgtype=jpg&er=1&src=http%3A%2F%2Fpic1.win4000.com%2Fwallpaper%2Fa%2F53796ee08b7e1.jpg)"></div>
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
            《大型网站技术架构核心原理与案例分析》
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
            
        </p>
        <!-- 404 -->
        
        <!-- 文章页meta -->
        
            <!-- 文章页标签  -->
            
                <div class= post-intro-tags >
    
        <a class="post-tag" href="javascript:void(0);" data-href = 读书笔记>读书笔记</a>
    
</div>
            
            <div class="post-intro-meta">
                <span class="post-intro-calander iconfont-archer">&#xe676;</span>
                <span class="post-intro-time">2017/11/03</span>
            </div>
        
    </div>
</div>
        <div class="container">
            <main class="main post-page">
    <article class="article-entry">
        <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这本书怎么说呢，属于科普类书籍，广度够了，无深度，作者绝对是个有情怀的人。</p>
<h2 id="大型网站架构演化"><a href="#大型网站架构演化" class="headerlink" title="大型网站架构演化"></a>大型网站架构演化</h2><h4 id="大型网站软件系统特点："><a href="#大型网站软件系统特点：" class="headerlink" title="大型网站软件系统特点："></a>大型网站软件系统特点：</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;①高并发，大流量</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;②高可用</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;③海量数据</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;④用户分布广泛，网络情况复杂</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⑤安全环境恶劣</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⑥需求快速变更，发布频繁</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⑦渐进式发展</p>
<h4 id="大型网站架构演化发展历程"><a href="#大型网站架构演化发展历程" class="headerlink" title="大型网站架构演化发展历程"></a>大型网站架构演化发展历程</h4><p><img src="../../../../images/daxingwangzhanjiagou001.png" alt="image"></p>
<p><img src="../../../../images/daxingwangzhanjiagou002.png" alt="image"></p>
<p><img src="../../../../images/daxingwangzhanjiagou003.png" alt="image"></p>
<p><img src="../../../../images/daxingwangzhanjiagou004.png" alt="image"></p>
<p><img src="../../../../images/daxingwangzhanjiagou005.png" alt="image"></p>
<h4 id="大型网站架构模式"><a href="#大型网站架构模式" class="headerlink" title="大型网站架构模式"></a>大型网站架构模式</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;分层、分割、分布式、集群、缓存、异步、冗余备份、自动化CI（发布过程自动化、自动化代码管理、自动化测试、自动化安全检测、自动化部属）、安全。</p>
<h2 id="大型网站核心架构要素"><a href="#大型网站核心架构要素" class="headerlink" title="大型网站核心架构要素"></a>大型网站核心架构要素</h2><h4 id="3-1、性能"><a href="#3-1、性能" class="headerlink" title="3.1、性能"></a>3.1、性能</h4><h4 id="3-2、可用性"><a href="#3-2、可用性" class="headerlink" title="3.2、可用性"></a>3.2、可用性</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;可用性指标：n个9，99.99%。</p>
<h4 id="3-3、伸缩性"><a href="#3-3、伸缩性" class="headerlink" title="3.3、伸缩性"></a>3.3、伸缩性</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;是指不断向集群中加入服务器的手段来缓解不断上升的用户并发访问压力和不断增长的数据存储需求。</p>
<h4 id="3-4、扩展性"><a href="#3-4、扩展性" class="headerlink" title="3.4、扩展性"></a>3.4、扩展性</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;增加新业务的难以程度。大型网站提供开放平台接口。</p>
<h4 id="3-5、安全性"><a href="#3-5、安全性" class="headerlink" title="3.5、安全性"></a>3.5、安全性</h4><h2 id="瞬时响应：网站的高性能架构"><a href="#瞬时响应：网站的高性能架构" class="headerlink" title="瞬时响应：网站的高性能架构"></a>瞬时响应：网站的高性能架构</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;网站性能是客观指标，响应时间、吞吐量等。</p>
<h4 id="4-1、网站性能测试"><a href="#4-1、网站性能测试" class="headerlink" title="4.1、网站性能测试"></a>4.1、网站性能测试</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用户角度：响应时间</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;开发人员角度：响应延迟、系统吞吐量、并发处理能力、系统稳定性</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;运维人员角度：基础设施性能和资源利用率。网络运营商带宽、服务器硬件配置、数据中心网络架构、服务器和网络带宽资源利用率。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;性能指标：响应时间、并发数、吞吐量（单位时间内系统处理请求的数量TPS）、性能计数器（CPU使用、磁盘IO）。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;性能测试→负载测试→压力测试：递进关系。</p>
<h4 id="4-2、性能优化"><a href="#4-2、性能优化" class="headerlink" title="4.2、性能优化"></a>4.2、性能优化</h4><p><strong>Web前端性能优化：</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;浏览器访问优化。①减少Http请求；②使用浏览器缓存；③启用压缩；④CSS放在页面最上面、JavaScript放在页面最下面；⑤减少Cookie传输。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDN加速。静态资源缓存在CDN服务器上。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;反向代理。请求转发。</p>
<p><strong>应用服务器性能优化：</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;分布式缓存。JBoss Cache：需要更新同步的分布式缓存。Memcached：不互相通信的分布式缓存。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;异步操作。削峰。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使用集群。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;代码优化。①多线程；②资源复用：单例、对象池、数据库连接池；③数据结构；④垃圾回收。</p>
<p><strong>存储性能优化：</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;固态硬盘。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RAID、HDFS。</p>
<h2 id="万无一失：网站的高可用架构"><a href="#万无一失：网站的高可用架构" class="headerlink" title="万无一失：网站的高可用架构"></a>万无一失：网站的高可用架构</h2><h4 id="5-1、网站可用性的度量与考核"><a href="#5-1、网站可用性的度量与考核" class="headerlink" title="5.1、网站可用性的度量与考核"></a>5.1、网站可用性的度量与考核</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;业界习惯：多少个9。QQ满足4个9，Twitter还不足2个9。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;可用性考核：对外是服务承诺，对内是考核指标。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;绩效考核中的故障分 = 故障时间（分钟）× 故障权重。</p>
<h4 id="5-2、高可用的网站架构"><a href="#5-2、高可用的网站架构" class="headerlink" title="5.2、高可用的网站架构"></a>5.2、高可用的网站架构</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;主要手段：数据和服务的冗余备份和实效转移。</p>
<h4 id="5-3、高可用的应用"><a href="#5-3、高可用的应用" class="headerlink" title="5.3、高可用的应用"></a>5.3、高可用的应用</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;负载均衡：无状态服务的失效转移。通过心跳检测机制监测服务器状态。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Session服务器。</p>
<h4 id="5-4、高可用的服务"><a href="#5-4、高可用的服务" class="headerlink" title="5.4、高可用的服务"></a>5.4、高可用的服务</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;分级管理、超时设置、异步调用、服务降级（服务端高压力时，有些人暂时无法访问，仅开放重要的人的访问权限）、幂等性设计。</p>
<h4 id="5-5、高可用的数据"><a href="#5-5、高可用的数据" class="headerlink" title="5.5、高可用的数据"></a>5.5、高可用的数据</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;保护网站的数据就是保护企业的命脉！</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CAP原理：数据持久性、数据可访问性、数据一致性。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;数据备份：异步热备份（写Master与读Slave）、同步热备份。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;失效转移：失效确认、访问转移、数据恢复。</p>
<h4 id="5-6、高可用网站的软件质量保证"><a href="#5-6、高可用网站的软件质量保证" class="headerlink" title="5.6、高可用网站的软件质量保证"></a>5.6、高可用网站的软件质量保证</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;网站发布：过程和服务器宕机效果相同。关闭部分服务器。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;自动化测试：ThoughtWorks的Selenium。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;预发布验证：发布到测试环境（预发布服务器）上。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;代码控制：Git、SVN版本管理。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;自动化发布：火车发布模式。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;灰度发布：让部分真实用户先使用预发布版本。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;网站运行监控。用户行为日志收集、服务器性能监控、运行数据报告。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><em>“事物总是先求生存，然后求发展。”</em></strong></p>
<h2 id="永无止境：网站的伸缩性架构"><a href="#永无止境：网站的伸缩性架构" class="headerlink" title="永无止境：网站的伸缩性架构"></a>永无止境：网站的伸缩性架构</h2><h4 id="6-1、网站架构的伸缩性设计"><a href="#6-1、网站架构的伸缩性设计" class="headerlink" title="6.1、网站架构的伸缩性设计"></a>6.1、网站架构的伸缩性设计</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;①根据功能进行物理分离实现伸缩；②单一功能通过集群实现伸缩。</p>
<h4 id="6-2、应用服务器集群的伸缩性设计"><a href="#6-2、应用服务器集群的伸缩性设计" class="headerlink" title="6.2、应用服务器集群的伸缩性设计"></a>6.2、应用服务器集群的伸缩性设计</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HTTP重定向负载均衡。欺骗性重定向：SEO作弊。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DNS域名解析负载均衡。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;反向代理负载均衡。反向代理服务器需要配置双网卡和内部外部两套IP地址。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IP负载均衡。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;数据链路层负载均衡。三角传输模式。又名直接路由方式（DR）。用的最广！LVS。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;负载均衡算法。①轮询；②加权轮询；③随机；④最少连接；⑤原地址散列：保证同一个IP每次都访问同一个服务器。</p>
<h4 id="6-3、分布式缓存集群的伸缩性设计"><a href="#6-3、分布式缓存集群的伸缩性设计" class="headerlink" title="6.3、分布式缓存集群的伸缩性设计"></a>6.3、分布式缓存集群的伸缩性设计</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Memcached访问模型P107</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一致性Hash算法。实现Key到缓存服务器的Hash映射。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;“计算机的任何问题都可以通过增加一个虚拟层来解决！”</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;虚拟节点的一致性Hash算法。</p>
<h4 id="6-4、数据存储服务器集群的伸缩性设计"><a href="#6-4、数据存储服务器集群的伸缩性设计" class="headerlink" title="6.4、数据存储服务器集群的伸缩性设计"></a>6.4、数据存储服务器集群的伸缩性设计</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关系型数据库：主从读写分离。Cobar：分布式关系数据库访问代理，介于数据库服务器与应用服务器之间，无法执行跨表的JOIN操作。GreenPlum：支持跨表JOIN操作，但访问延迟较大。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NoSQL数据库：放弃了SQL和ACID。HBase：可分裂的HRegion及可伸缩的分布式文件系统HDFS。HMaster+Zookeeper（分布式一致性数据管理服务）+HRegionServer结构。</p>
<h2 id="随需应变：网站的可扩展架构"><a href="#随需应变：网站的可扩展架构" class="headerlink" title="随需应变：网站的可扩展架构"></a>随需应变：网站的可扩展架构</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;开闭原则：对扩展开放，对修改关闭</p>
<h4 id="7-1、构建可扩展的网站架构"><a href="#7-1、构建可扩展的网站架构" class="headerlink" title="7.1、构建可扩展的网站架构"></a>7.1、构建可扩展的网站架构</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;低耦合，模块化。如何分解系统的各个模块、如何定义各个模块的接口、如何复用组合不同的模块构造一个完整的系统，这是软件设计中最有挑战的部分。架构师最大的价值不在于掌握多少先进的技术，而在于具有将一个大系统切分成N个低耦合的子模块的能力。</p>
<h4 id="7-2、利用分布式消息队列降低系统耦合性"><a href="#7-2、利用分布式消息队列降低系统耦合性" class="headerlink" title="7.2、利用分布式消息队列降低系统耦合性"></a>7.2、利用分布式消息队列降低系统耦合性</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;事件驱动架构。EDA架构，生产者消费者模式。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;分布式消息队列。异步调用：应用服务器A→消息队列服务器→应用服务器B，Apache ActiveMQ。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;消息存储在消息生产者服务器，等消息真正被消息消费者服务器处理后才删除消息。</p>
<h4 id="7-3、利用分布式服务打造可复用的业务平台"><a href="#7-3、利用分布式服务打造可复用的业务平台" class="headerlink" title="7.3、利用分布式服务打造可复用的业务平台"></a>7.3、利用分布式服务打造可复用的业务平台</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;横向、纵向拆分。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Web Service。服务提供者通过WSDL向注册中心（Service Broker）描述自身提供的服务接口属性，注册中心使用UDDI发布服务提供者提供的服务，服务请求者从注册中心检索到服务信息后，通过SOAP和服务提供者通信，使用相关服务。缺点：①臃肿的注册与发现机制；②低效的XML序列化手段；③开销相对较高的HTTP远程通信。④复杂的部属与维护手段。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;分布式服务框架。Facebook使用Thrift（一个开源的远程服务调用框架），阿里巴巴的Dubbo：支持多种通信协议和数据序列化协议，使用NIO通信框架，具有较高的网络通信性能。</p>
<h4 id="7-4、可扩展的数据结构"><a href="#7-4、可扩展的数据结构" class="headerlink" title="7.4、可扩展的数据结构"></a>7.4、可扩展的数据结构</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ColumnFamily（列族）设计。Google的Bigtable：面向列族的稀疏矩阵存储格式，可以随意扩展。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><em>马克思劳动价值理论：“产品的内在价值在于劳动时间，劳动的时间不在于个体付出的劳动时间，而在于行业一般劳动时间，资本家只会为行业一般劳动时间买单。”</em></strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果你效率低于行业一般劳动时间，对不起，请你自愿加班。</p>
<h2 id="固若金汤：网站的安全架构"><a href="#固若金汤：网站的安全架构" class="headerlink" title="固若金汤：网站的安全架构"></a>固若金汤：网站的安全架构</h2><h4 id="8-1、网站攻防"><a href="#8-1、网站攻防" class="headerlink" title="8.1、网站攻防"></a>8.1、网站攻防</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XSS攻击。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;注入攻击。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SCRF攻击。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Web应用防火墙。ModSecurity：处理逻辑+攻击规则集合。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;网站安全漏洞扫描。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这一节想了解更多，我建议可以去看看《白帽子》这本书。</p>
<h4 id="8-2、信息加密技术及密钥安全管理"><a href="#8-2、信息加密技术及密钥安全管理" class="headerlink" title="8.2、信息加密技术及密钥安全管理"></a>8.2、信息加密技术及密钥安全管理</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;单向散列加密：输入的任何微小变化都会导致输出的完全不同。MD5、SHA。盐值。彩虹表（人们常用密码和对应的密文关系表）暴力破解。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;对称加密。DES算法、RC算法。Cookie加密、通信加密。问题在于如何安全地交换密钥。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;非对称加密。RSA算法。</p>
<h4 id="8-3、信息过滤与反垃圾"><a href="#8-3、信息过滤与反垃圾" class="headerlink" title="8.3、信息过滤与反垃圾"></a>8.3、信息过滤与反垃圾</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;文本匹配。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;分类算法。贝叶斯分类算法、朴素贝叶斯算法。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;黑名单。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;布隆过滤器。</p>
<h2 id="淘宝网架构演化"><a href="#淘宝网架构演化" class="headerlink" title="淘宝网架构演化"></a>淘宝网架构演化</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;业务驱动技术。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2003年：Linux+Apache+MySQL+PHP（LAMP），PHP易开发难维护。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2004年：Linux+Weblogic（收费）+Webx（自研MVC框架）+EJB+IBatis（ORM）+Oracle，PHP转JAVA。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2006年：Linux+JBoss（免费）+Webx+Spring+IBatis+Oracle。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;后来：Linux+Jetty+Webx+Spring+IBatis+Oracle→MySQL。</p>

    </article>
    <!-- 前后页  -->
    <ul class="post-pager">
        
            <li class="next">
                <a href= "/2017/11/04/酒诗/" title= 酒诗 >
                    <span>Next Post</span>
                    <span>酒诗</span>
                </a>
            </li>
        
        
            <li class="previous">
                <a href= "/2017/10/31/如何让我遇见你，在你最美的时候-2010/" title= 如何让我遇见你，在你最美的时候-2010 >
                    <span>Previous Post</span>
                    <span>如何让我遇见你，在你最美的时候-2010</span>
                </a>
            </li>
        
    </ul>


    <!-- 来必力City版安装代码 -->

<!-- City版安装代码已完成 -->
    
    
<div id="container"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    var gitment = new Gitment({
        // id: "《大型网站技术架构核心原理与案例分析》", // 可选。默认为 location.href
        owner: 'PrickerHub',
        repo: 'PrickerHub.github.io',
        oauth: {
            client_id: '6667b8cb33a30286d744',
            client_secret: 'ce241611416d21bcf66dcaae3261efa027451362',
        },
    })
    gitment.render('container')

</script>

    <!--PC版-->

    
</main>
            <!-- profile -->
            
        </div>
        <footer class="footer">
    <!-- social  -->
    
    <div class="social">
        
    
        
            
                <a href="//github.com/PrickerHub" class="iconfont-archer github" target="_blank" title="github"></a>
            
        
    
        
            
                <a href="//www.weibo.com/whoesbutterfly/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" class="iconfont-archer weibo" target="_blank" title="weibo"></a>
            
        
    
        
            
                <a href="//www.zhihu.com/people/pricker/activities" class="iconfont-archer zhihu" target="_blank" title="zhihu"></a>
            
        
    

    </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="http://www.huawei.com/cn/" target="_blank">OM</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">Author <a href="https://github.com/PrickerHub/" target="_blank">PangChen</a></span>
    </div>
    <!-- 不蒜子  -->
    
    <div class="busuanzi-container">
        <span id="busuanzi_container_site_pv">Welcome, No. <span id="busuanzi_value_site_pv"></span>
        </span>
    </div>
    
</footer>
    </div>
    <div class="back-top">&#xe639;</div>
    <div class="sidebar">
    <div class="sidebar-header">
        <div class="sidebar-category">
            <span class="sidebar-archive-link"><span class="iconfont-archer">&#xe67d;</span>文章</span>
            <span class="sidebar-tags-link"><span class="iconfont-archer">&#xe610;</span>标签</span>
        </div>
    </div>
    <div class="sidebar-content sidebar-content-show-archive">
          <div class="sidebar-archive">
    <!-- 在ejs中将archive按照时间排序 -->
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="total-archive"> Total : 41 </div>
    
    <div class="post-archive">
    
    
    
    
    <div class="archive-year"> 2017 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/12</span><a class="archive-post-title" href= "/2017/11/12/《定位》/" >《定位》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/12</span><a class="archive-post-title" href= "/2017/11/12/python wechat API (itchat)/" >Wechat API (itchat)</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/04</span><a class="archive-post-title" href= "/2017/11/04/酒诗/" >酒诗</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/03</span><a class="archive-post-title" href= "/2017/11/03/大型网站技术架构/" >《大型网站技术架构核心原理与案例分析》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/31</span><a class="archive-post-title" href= "/2017/10/31/在最佳时间 最佳角色 做出最佳贡献/" >在最佳时间 最佳角色 做出最佳贡献</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/31</span><a class="archive-post-title" href= "/2017/10/31/如何让我遇见你，在你最美的时候-2010/" >如何让我遇见你，在你最美的时候-2010</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/27</span><a class="archive-post-title" href= "/2017/10/27/《跃迁》/" >《跃迁》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/17</span><a class="archive-post-title" href= "/2017/10/17/RearchOfMenAndWomen/" >杂谈：聊聊男人与女人</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/15</span><a class="archive-post-title" href= "/2017/10/15/网络素养/" >网络素养</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/14</span><a class="archive-post-title" href= "/2017/10/14/CityOfRock/" >《缝纫机乐队》观后感</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/09</span><a class="archive-post-title" href= "/2017/10/09/自卑与超越/" >《自卑与超越》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/09</span><a class="archive-post-title" href= "/2017/10/09/Java多线程编程核心技术/" >《Java多线程编程核心技术》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/09</span><a class="archive-post-title" href= "/2017/10/09/吸金广告/" >《吸金广告》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/09</span><a class="archive-post-title" href= "/2017/10/09/细节营销/" >《细节营销》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/06</span><a class="archive-post-title" href= "/2017/10/06/心胜/" >《心胜》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/06</span><a class="archive-post-title" href= "/2017/10/06/赢/" >《赢》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/02</span><a class="archive-post-title" href= "/2017/10/02/一个程序员的自我修养/" >一个程序员的自我修养</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/01</span><a class="archive-post-title" href= "/2017/10/01/致谢/" >致谢</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/10</span><a class="archive-post-title" href= "/2017/09/10/手把手教你简单的DNS劫持/" >手把手教你构造简单的DNS劫持</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/11</span><a class="archive-post-title" href= "/2017/08/11/少有人走的路/" >《少有人走的路》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/23</span><a class="archive-post-title" href= "/2017/07/23/异类/" >《异类》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/12</span><a class="archive-post-title" href= "/2017/06/12/寿司/" >《寿司》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/09</span><a class="archive-post-title" href= "/2017/04/09/策略思维/" >《策略思维》</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/09</span><a class="archive-post-title" href= "/2017/04/09/浪潮之巅/" >《浪潮之巅》上册</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2016 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/27</span><a class="archive-post-title" href= "/2016/12/27/Java对象占用内存分析/" >Java对象占用内存分析</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/17</span><a class="archive-post-title" href= "/2016/08/17/Status Code详解/" >Status Code详解</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/19</span><a class="archive-post-title" href= "/2016/05/19/数学：匈牙利算法/" >数学：匈牙利算法</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/12</span><a class="archive-post-title" href= "/2016/05/12/数学：波尔约-格维也纳定理/" >数学：波尔约-格维也纳定理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/10</span><a class="archive-post-title" href= "/2016/05/10/数学：巴比尔定理/" >数学：巴比尔定理</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/17</span><a class="archive-post-title" href= "/2016/04/17/分布式数据库事务/" >分布式数据库事务</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/01</span><a class="archive-post-title" href= "/2016/04/01/分布式数据库概要/" >分布式数据库概要</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2015 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/31</span><a class="archive-post-title" href= "/2015/07/31/Java中的日期与时间（Date，Calendar）/" >JS实现判断input输入是否为数字</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/27</span><a class="archive-post-title" href= "/2015/07/27/js Array的一些函数indexOf( )、slice()、splice( )/" >js Array的一些函数indexOf( )、slice()、splice( )</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/27</span><a class="archive-post-title" href= "/2015/07/27/JVM重要知识点整理和学习/" >JVM重要知识点整理和学习</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/22</span><a class="archive-post-title" href= "/2015/07/22/javascript标准对象与包装对象/" >javascript标准对象与包装对象</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/21</span><a class="archive-post-title" href= "/2015/07/21/Node.js教程/" >Node.js教程</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/18</span><a class="archive-post-title" href= "/2015/07/18/大型网站系统特点/" >大型网站系统特点</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/17</span><a class="archive-post-title" href= "/2015/07/17/jQuery常用函数（二）：选择器selector/" >jQuery常用函数（二）：选择器selector</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/14</span><a class="archive-post-title" href= "/2015/07/14/JS实现判断input输入是否为数字/" >JS实现判断input输入是否为数字</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/14</span><a class="archive-post-title" href= "/2015/07/14/jQuery常用函数（一）：基础/" >jQuery常用函数（一）：基础</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/29</span><a class="archive-post-title" href= "/2015/06/29/Linux下常用命令/" >Linux下常用命令</a>
        </li>
    
    </div>
  </div>
        <div class="sidebar-tags">
    <div class="sidebar-tags-name">
    
        <span class="sidebar-tag-name"><a href= "#">web</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">杂谈</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">Java</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">读书笔记</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">数据库</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">数学/算法</a></span>
    
        <span class="sidebar-tag-name"><a href= "#">Python</a></span>
    
    </div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
    缺失模块。<br/>
    1、请确保node版本大于6.2<br/>
    2、在博客根目录（注意不是archer根目录）执行以下命令：<br/>
    <span style="color: #f75357; font-size: 1rem; line-height: 2rem;">npm i hexo-generator-json-content --save</span><br/>
    3、在根目录_config.yml里添加配置：
    <pre style="color: #888; font-size: 0.6rem;">
jsonContent:
  meta: false
  pages: false
  posts:
    title: true
    date: true
    path: true
    text: false
    raw: false
    content: false
    slug: false
    updated: false
    comments: false
    link: false
    permalink: false
    excerpt: false
    categories: false
    tags: true</pre>
    </div> 
    <div class="sidebar-tag-list"></div>
</div>
    </div>
</div> 
    <script>
    var jsInfo = {
        root: '/'
    }
</script>
    <!-- 不蒜子  -->
    
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    <!-- CNZZ统计  -->
    
    </div>
    </body>
</html>


